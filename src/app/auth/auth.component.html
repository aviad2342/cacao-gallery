<div class="spinner" *ngIf="isLoading" fxLayout="row" fxLayoutAlign="center center">
  <mat-spinner></mat-spinner>
</div>
<div class="container" fxLayout="column" fxLayoutAlign="center center" *ngIf="!isLoading">
  <mat-card class="card">
    <mat-card-title class="card-title">התחברות</mat-card-title>
    <form (submit)="onSubmit(loginForm)" #loginForm="ngForm" *ngIf="!isLoading">
      <div fxLayout="column">

        <img mat-card-avatar mat-card-lg-image [src]="userAvatar" alt="" class="user-avatar">

        <mat-form-field appearance="legacy">
          <mat-label class="form-input-field">הכנס כתובת מייל</mat-label>
          <input matInput placeholder="הכנס כתובת מייל"
          class="form-input-field"
          type="email"
          ngModel
          name="email"
          email
          required
          pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{3})+$"
          #emailInput="ngModel">
          <mat-icon matSuffix>alternate_email</mat-icon>
          <mat-error *ngIf="!emailInput.valid && emailInput.touched">כתובת המייל אינה חוקית!</mat-error>
          <!-- <mat-hint *ngIf="!emailInput.valid && emailInput.touched"><small class="input-not-valid">זהו שדה חובה!</small></mat-hint> -->
        </mat-form-field>

        <mat-form-field appearance="legacy">
          <mat-label class="form-input-field">הכנס סיסמה</mat-label>
          <input
          matInput
          placeholder="הכנס סיסמה"
          class="form-input-field"
          type="password"
          ngModel
          name="password"
          required
          #passwordInput="ngModel">
          <mat-icon matSuffix>password</mat-icon>
          <mat-error *ngIf="!emailInput.valid && emailInput.touched">הסיסמה לא תקינה!</mat-error>
          <!-- <mat-hint *ngIf="!emailInput.valid && emailInput.touched"><small class="input-not-valid">זהו שדה חובה!</small></mat-hint> -->
        </mat-form-field>

        <div class="form-submit-buttons" fxLayout="row" fxLayoutAlign="space-evenly center">
          <button mat-stroked-button type="submit" class="form-submit-button" [disabled]="!loginForm.valid">התחבר</button>
          <button mat-stroked-button type="button" (click)="onCancel()" class="form-submit-button">ביטול</button>
        </div>
          </div>
    </form>
  </mat-card>
</div>
